pipeline {
	agent any

	stages {

		stage('Build'){
			steps {
				bat "mvnw clean install -DskipTests"
			}
		}

		stage('Test'){
			steps{
				bat "mvnw test"
			}
		}

		stage('Deploy') {
			steps {
			    echo "Deployment Done"
			}
		}
	}
	
	post {
		always{
		echo "Sending email to "
			mail to: "jenkins.smarthire@gmail.com",
            subject: "${env.JOB_NAME}:#${currentBuild.number}:${currentBuild.currentResult}",
            body: "#${currentBuild.number}:${currentBuild.currentResult}: Job ${env.JOB_NAME}\nPlease check the logs in the below URL\n ${env.BUILD_URL}"
		}
	}
}